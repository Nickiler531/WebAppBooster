<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
    <title>WebAppBooster Demo</title>
    <script type="text/javascript" src="js/json.js"></script>
    <script type="text/javascript" src="js/webappbooster.js"></script>
</head>

<body onload="init()">

<script type="text/javascript">

function log(msg) {
    var l = document.getElementById("log");
    var s = msg;
    if (typeof msg != "string") {
        s = JSON.stringify(msg);
    }
    l.innerHTML += s + "\n";
}

function init() {
    WebAppBooster.open(function(res) {
        if (res.status == WebAppBooster.OK) {
            log("WebAppBooster connected");
        } else {
            log("WebAppBooster not connected");
        }
    });
}

function requestPermissions() {
    var p = [WebAppBooster.PERMISSION_READ_CONTACTS,
             WebAppBooster.PERMISSION_GYRO];
    WebAppBooster.requestPermissions(p, function(resp) {
        if (resp.status == WebAppBooster.OK) {
            log("Permissions granted");
        } else {
            log("Permissions not granted");
        }
    });
}

function pickContact() {
    WebAppBooster.pickContact(function(resp) {
        log(resp);
    });
}

function startGyro() {
    WebAppBooster.startGyro(function(resp) {
        log(resp);
    });
}

function stopGyro() {
    WebAppBooster.stopGyro(function(resp) {
        log(resp);
    });
}

</script>

<h1>WebAppBooster Demo</h1>

<button type="button" onclick="requestPermissions()">Request Permissions</button>

<p>

<button type="button" onclick="pickContact()">Pick Contact</button>

<p>

<button type="button" onclick="startGyro()">Start Gyro</button>

<p>

<button type="button" onclick="stopGyro()">Stop Gyro</button>

<p>

<textarea id="log" rows="30" cols="100" style="font-family:monospace; color:red;"></textarea>

</body>
</html>
